# 环境配置说明

## 1. 复制配置文件

```bash
cp .env.example .env
```

## 2. 修改配置

编辑 `.env` 文件，填入你的 MySQL 配置：

```env
# 数据库配置
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=accounting

# Session 配置
SESSION_SECRET=accounting-system-secret-key-2024

# 服务器配置
PORT=3000
```

## 3. 创建数据库

### 方式一：自动建表（推荐）
程序启动时会自动创建数据库和表，请确保：
1. MySQL 服务已启动
2. 配置的用户有创建数据库的权限

### 方式二：手动建表
```bash
mysql -u root -p < init.sql
```

## 4. 安装依赖

```bash
npm install
```

## 5. 启动服务

```bash
npm start
```

## 云服务器配置

### MySQL 远程访问

1. 修改 MySQL 配置允许远程连接
2. 创建专用数据库用户：

```sql
CREATE USER 'accounting'@'%' IDENTIFIED BY 'strong_password';
GRANT ALL PRIVILEGES ON accounting.* TO 'accounting'@'%';
FLUSH PRIVILEGES;
```

3. 修改 `.env` 中的 `DB_HOST` 为服务器 IP

### 环境变量（推荐）

在云服务器上直接设置环境变量：

```bash
# Linux
export DB_HOST=localhost
export DB_USER=root
export DB_PASSWORD=your_password
export DB_NAME=accounting
export SESSION_SECRET=your-secret-key
export PORT=3000
```
